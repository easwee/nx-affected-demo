"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.daemonHandler = void 0;
const tslib_1 = require("tslib");
const devkit_1 = require("@nrwl/devkit");
const tmp_dir_1 = require("../core/project-graph/daemon/tmp-dir");
function daemonHandler(args) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function* () {
        const { startInBackground, startInCurrentProcess } = yield Promise.resolve().then(() => require('../core/project-graph/daemon/client/client'));
        if (!args.background) {
            return startInCurrentProcess();
        }
        devkit_1.logger.info(`NX Daemon Server - Starting in a background process...`);
        const pid = yield startInBackground();
        devkit_1.logger.log(`  Logs from the Daemon process (ID: ${pid}) can be found here: ${tmp_dir_1.DAEMON_OUTPUT_LOG_FILE}\n`);
    });
}
exports.daemonHandler = daemonHandler;
//# sourceMappingURL=daemon.js.map